<!DOCTYPE html>
<html>
  <head>
    <title>Hari UI - Jasmine Test Runner</title>

    <!-- Jasmine -->
    <link rel="stylesheet" type="text/css" href="../vendor/jasmine/jasmine.css"/>
    <script type="text/javascript" src="../vendor/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../vendor/jasmine/jasmine-html.js"></script>
    <script type="text/javascript" src="../vendor/jasmine/jasmine-jquery-1.3.1.js"></script>

    <!-- RequireJS -->
    <script type="text/javascript" src="../vendor/require/require.js"></script>

  </head>

  <body>
    <script type="text/javascript">
      /*
       * @TODO Put RequireJS configuration in a separate file
       *  so it can be shared between app and test harness
       */
      require.config({
        paths: {
          'base.view' : '../fwk/core/base.view',
          'container.view' : '../fwk/core/container.view',
          'base.module' : '../fwk/core/base.module',
          'cache' : '../fwk/services/cache',
          'backbone' : '../vendor/backbone/backbone',
          'jquery' : '../vendor/jquery/jquery-1.8.0',
          'underscore' : '../vendor/underscore/underscore',
          'handlebars' : '../vendor/handlebars/handlebars-1.0.0.beta.6',
          'statemachine' : '../vendor/statemachine/state-machine',
          'modernizr' : '../vendor/modernizr/modernizr-wrapper',
          'text' : '../vendor/require/plugins/text',
          'pubsub' : '../vendor/pubsub/pubsub',
          'lawnchair' : '../vendor/lawnchair/lawnchair-0.6.1'
        },
        //load script's dependencies in correct order &
        //wraps non-AMD scripts into AMD-modules
        shim: {
          'underscore' : {
            exports: '_'
          },
          'backbone': {
            deps: ['underscore', 'jquery'],
            exports: 'Backbone'
          },
          'modernizr': {
            exports : 'Modernizr'
          },
          'handlebars': {
            exports : 'Handlebars'
          },
          'lawnchair' : {
            exports: 'Lawnchair'
          }
        },
        baseUrl: './'
      });

      require(
        [
          'fwk/base.view.spec',
          'fwk/services/cache.spec'
        ],
        function() {
          jasmine.getEnv().addReporter(new jasmine.HtmlReporter());
          jasmine.getEnv().execute();
        }
      );
    </script>
    <div id="test"></div>
  </body>
</html>

