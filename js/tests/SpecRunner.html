<!DOCTYPE html>
<html>
  <head>
    <title>Hari UI - Jasmine Test Runner</title>

    <!-- Jasmine -->
    <link rel="stylesheet" type="text/css" href="../vendor/jasmine/jasmine.css"/>
    <script type="text/javascript" src="../vendor/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../vendor/jasmine/jasmine-html.js"></script>
    <script type="text/javascript" src="../vendor/jasmine/jasmine-jquery-1.4.2.js"></script>

    <!-- RequireJS -->
    <script type="text/javascript" src="../vendor/require/require.js"></script>

  </head>

  <body>
    <script type="text/javascript">
      /*
       * @TODO Put RequireJS configuration in a separate file
       *  so it can be shared between app and test harness
       */
      require.config({
        //path aliases for loaded scripts
        paths: {
          'base.view' : 'fwk/core/base.view',
          'container.view' : 'fwk/layoutmanagers/container.view',
          'stacked.view' : 'fwk/layoutmanagers/stacked.view',
          'list.view' : 'fwk/layoutmanagers/list.view',
          'base.module' : 'fwk/core/base.module',
          'cache' : 'fwk/transport/cache',
          'backbone' : 'vendor/backbone/backbone-0.9.10',
          'jquery' : 'vendor/jquery/jquery-1.9.0',
          'transit' : 'vendor/jquery/plugins/jquery.transit',
          'underscore' : 'vendor/underscore/lodash',
          'handlebars' : 'vendor/handlebars/handlebars-1.0.0.beta.6',
          'statemachine' : 'vendor/statemachine/Stately',
          'modernizr' : 'vendor/modernizr/modernizr-latest',
          'text' : 'vendor/require/plugins/text',
          'pubsub' : 'vendor/pubsub/pubsub',
          'lawnchair' : 'vendor/lawnchair/lawnchair-0.6.1'
        },
        //load script's dependencies in correct order &
        //wraps non-AMD scripts into AMD-modules
        shim: {
          'underscore' : {
            exports: '_'
          },
          'backbone': {
            deps: ['underscore', 'jquery'],
            exports: 'Backbone'
          },
          'modernizr': {
            exports : 'Modernizr'
          },
          'handlebars': {
            exports : 'Handlebars'
          },
          'lawnchair' : {
            exports: 'Lawnchair'
          },
          'transit': {
            deps: ['jquery'],
            exports : 'Transit'
          }
        },
        baseUrl: '../'
      });

      require(
        [
          'tests/fwk/base.view.spec',
          'tests/fwk/container.view.spec',
          'tests/fwk/services/cache.spec'
        ],
        function() {
          jasmine.getEnv().addReporter(new jasmine.HtmlReporter());
          jasmine.getEnv().execute();
        }
      );
    </script>
    <div id="test"></div>
  </body>
</html>

